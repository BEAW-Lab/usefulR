% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summarise_era5.R
\name{summarise_era5}
\alias{summarise_era5}
\title{Summarise ERA5 Point Data from Downloaded NetCDF Files}
\usage{
summarise_era5(
  path = "era5_downloads",
  variable = NULL,
  summarise_fun = mean,
  ...
)
}
\arguments{
\item{path}{Character. Directory containing the NetCDF files.
Defaults to \code{"era5_downloads"}.}

\item{...}{Additional arguments passed to \code{fun}
(e.g., \code{na.rm = TRUE}).}

\item{variables}{Optional character vector specifying which ERA5
variables to summarise. If \code{NULL} (default), all variables
present in each NetCDF file are summarised.}

\item{fun}{A function to apply for summarising the time dimension
of each variable (e.g., \code{mean}, \code{sum}, \code{sd},
or a user-defined custom function).
Defaults to \code{mean}.}
}
\value{
A data frame where each row corresponds to one NetCDF file
  (i.e., one coordinate), containing:
  \itemize{
    \item{\code{lat}, \code{lon} â€” extracted coordinate values}
    \item{One column per climate variable summarised over the time window}
  }
}
\description{
This function reads NetCDF files previously downloaded using
\code{download_era5()} and summarises each climate variable using a
user-defined function (e.g., \code{mean}, \code{sum}, \code{max}).
The function extracts latitude and longitude values automatically
from the filenames produced by \code{download_era5()}, which encode
coordinates in the format \code{"era5_<lat>_<lon>.nc"}.
}
\details{
This function assumes that NetCDF files follow the naming convention
generated by \code{download_era5()}, where latitude and longitude are
encoded as \code{"era5_<lat>_<lon>.nc"} with decimal points replaced
by underscores. For example:
\preformatted{
  era5_41_59146_-4_876213.nc
}

Each file is read using the \pkg{terra} package, and the provided
summarising function is applied to the full time series of each
selected variable.
}
\examples{
\dontrun{
# Summarise all variables using the mean
df <- summarise_era5(
  path = "era5_downloads",
  fun = mean,
  na.rm = TRUE
)

# Summarise only temperature and precipitation
df2 <- summarise_era5(
  variables = c("2m_temperature", "total_precipitation"),
  fun = sum,
  na.rm = TRUE
)

# 95th percentile of temperature
df3 <- summarise_era5(
  variables = "2m_temperature",
  fun = function(x) quantile(x, 0.95, na.rm = TRUE)
)
}

}
